<template>
    <div>
        <button v-if="DocumentInfo.State===1" @click="ShareStart()">
            <svg
                width="80"
                height="28"
                viewBox="0 0 80 28"
                fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M25.5625 13.836C25.8745 12.696 25.8745 11.76 25.8745 10.884V9.972H18.2185V11.22H24.2905C24.2905 11.952 24.2545 12.696 24.0025 13.68L25.5625 13.836ZM22.0105 19.344C20.5225 19.344 19.6705 19.044 19.6705 18.456C19.6705 17.856 20.5225 17.556 22.0105 17.556C23.5105 17.556 24.3625 17.856 24.3625 18.456C24.3625 19.044 23.5105 19.344 22.0105 19.344ZM22.0105 16.368C19.6345 16.368 18.0985 17.16 18.0985 18.456C18.0985 19.74 19.6345 20.532 22.0105 20.532C24.3985 20.532 25.9345 19.74 25.9345 18.456C25.9345 17.16 24.3985 16.368 22.0105 16.368ZM22.3705 14.424V12.492H20.7865V14.424H17.1025V15.672H27.0505V14.424H22.3705ZM33.0976 11.112C34.5376 11.112 35.4616 11.544 35.4616 12.324C35.4616 13.116 34.5376 13.536 33.0976 13.536C31.6456 13.536 30.7216 13.116 30.7216 12.324C30.7216 11.544 31.6456 11.112 33.0976 11.112ZM33.0976 14.796C35.4496 14.796 37.0936 13.836 37.0936 12.324C37.0936 10.824 35.4496 9.852 33.0976 9.852C30.7336 9.852 29.1016 10.824 29.1016 12.324C29.1016 13.836 30.7336 14.796 33.0976 14.796ZM38.1256 15.624H28.1176V16.908H30.3856V20.52H31.9816V16.908H34.2016V20.52H35.8096V16.908H38.1256V15.624ZM46.1594 10.332H44.5754V11.94C44.5754 14.088 43.6634 16.224 41.7314 17.052L42.6794 18.36C43.9994 17.736 44.8994 16.548 45.3914 15.072C45.8834 16.428 46.7354 17.52 48.0074 18.096L48.9074 16.812C47.0354 16.008 46.1594 13.992 46.1594 11.94V10.332ZM49.4474 9.468V20.556H51.0314V9.468H49.4474ZM59.5144 14.532C57.7744 13.968 57.0184 12.66 56.9824 11.388H59.1424V10.128H53.1664V11.388H55.3624C55.3264 12.756 54.5464 14.136 52.7464 14.724L53.5744 15.96C54.8464 15.54 55.7104 14.688 56.2024 13.62C56.6824 14.592 57.5104 15.372 58.7104 15.756L59.5144 14.532ZM54.2344 17.892H60.0304V20.544H61.6144V16.632H54.2344V17.892ZM63.0784 12.144H61.6144V9.48H60.0304V16.14H61.6144V13.452H63.0784V12.144Z"
                    fill="#9F9F9F"/>
                <rect x="0.5" y="1" width="79" height="26" rx="13" stroke="#9F9F9F"/>
            </svg>
        </button>
        <button v-else-if="DocumentInfo.State===2" @click="LinkShare()">
            <input
                type="text"
                v-bind:id="'copyArea'+DocumentInfo.name"
                v-bind:value="'https://agreement-33254.web.app/WriterLoginPage/'+DocumentInfo.name"
                style="display: none;"/>
            <!-- http://172.30.1.37:8080/ >> 집 네트워크-->
            <svg
                width="80"
                height="28"
                viewBox="0 0 80 28"
                fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M18.5 17.06C17.93 17.06 17.42 17.285 17.03 17.6375L11.6825 14.525C11.72 14.3525 11.75 14.18 11.75 14C11.75 13.82 11.72 13.6475 11.6825 13.475L16.97 10.3925C17.375 10.7675 17.9075 11 18.5 11C19.745 11 20.75 9.995 20.75 8.75C20.75 7.505 19.745 6.5 18.5 6.5C17.255 6.5 16.25 7.505 16.25 8.75C16.25 8.93 16.28 9.1025 16.3175 9.275L11.03 12.3575C10.625 11.9825 10.0925 11.75 9.5 11.75C8.255 11.75 7.25 12.755 7.25 14C7.25 15.245 8.255 16.25 9.5 16.25C10.0925 16.25 10.625 16.0175 11.03 15.6425L16.37 18.7625C16.3325 18.92 16.31 19.085 16.31 19.25C16.31 20.4575 17.2925 21.44 18.5 21.44C19.7075 21.44 20.69 20.4575 20.69 19.25C20.69 18.0425 19.7075 17.06 18.5 17.06Z"
                    fill="#5086EC"/>
                <path
                    d="M37.7585 9.48H36.1625V16.188H37.7585V9.48ZM35.2505 14.16C33.8105 14.4 32.5265 14.46 30.7025 14.472V13.5H34.2185V10.128H29.1305V11.388H32.6585V12.324H29.1425V15.744H30.1145C32.3105 15.744 33.7865 15.696 35.4305 15.42L35.2505 14.16ZM34.0385 19.32C32.5985 19.32 31.8425 19.056 31.8425 18.468C31.8425 17.892 32.5985 17.628 34.0385 17.628C35.4905 17.628 36.2465 17.892 36.2465 18.468C36.2465 19.056 35.4905 19.32 34.0385 19.32ZM34.0385 16.392C31.6985 16.392 30.2585 17.16 30.2585 18.468C30.2585 19.776 31.6985 20.544 34.0385 20.544C36.3905 20.544 37.8305 19.776 37.8305 18.468C37.8305 17.16 36.3905 16.392 34.0385 16.392ZM40.4336 13.704L40.6256 14.988L46.9376 14.664C46.8656 15.408 46.7456 16.212 46.5296 17.112L48.0896 17.268C48.6056 14.868 48.6056 13.344 48.6056 11.736V10.452H40.7456V11.712H47.0456V11.736C47.0456 12.3 47.0456 12.876 47.0216 13.488L40.4336 13.704ZM39.6296 17.928V19.224H49.6136V17.928H39.6296ZM61.8594 13.836C62.1714 12.696 62.1714 11.76 62.1714 10.884V9.972H54.5154V11.22H60.5874C60.5874 11.952 60.5514 12.696 60.2994 13.68L61.8594 13.836ZM58.3074 19.344C56.8194 19.344 55.9674 19.044 55.9674 18.456C55.9674 17.856 56.8194 17.556 58.3074 17.556C59.8074 17.556 60.6594 17.856 60.6594 18.456C60.6594 19.044 59.8074 19.344 58.3074 19.344ZM58.3074 16.368C55.9314 16.368 54.3954 17.16 54.3954 18.456C54.3954 19.74 55.9314 20.532 58.3074 20.532C60.6954 20.532 62.2314 19.74 62.2314 18.456C62.2314 17.16 60.6954 16.368 58.3074 16.368ZM58.6674 14.424V12.492H57.0834V14.424H53.3994V15.672H63.3474V14.424H58.6674ZM69.3944 11.112C70.8344 11.112 71.7584 11.544 71.7584 12.324C71.7584 13.116 70.8344 13.536 69.3944 13.536C67.9424 13.536 67.0184 13.116 67.0184 12.324C67.0184 11.544 67.9424 11.112 69.3944 11.112ZM69.3944 14.796C71.7464 14.796 73.3904 13.836 73.3904 12.324C73.3904 10.824 71.7464 9.852 69.3944 9.852C67.0304 9.852 65.3984 10.824 65.3984 12.324C65.3984 13.836 67.0304 14.796 69.3944 14.796ZM74.4224 15.624H64.4144V16.908H66.6824V20.52H68.2784V16.908H70.4984V20.52H72.1064V16.908H74.4224V15.624Z"
                    fill="#5086EC"/>
                <rect x="0.5" y="0.5" width="79" height="27" rx="13.5" stroke="#5086EC"/>
            </svg>
        </button>
        <div v-else></div>
    </div>
</template>
<script>
    export default {
        mounted() {

        },
        data() {
            return {IP: ""}
        },
        props: {
            DocumentInfo: Object
        },
        methods: {
            ShareStart() {
                this.DocumentInfo.State = 2;
                this
                    .$store
                    .dispatch('STATE_CHANGE', this.DocumentInfo);
            },
            LinkShare() {
                let url = document.getElementById('copyArea' + this.DocumentInfo.name);
                url.style.display = 'block'; // 숨겨둔 input 태그 block처리
                url.select(); // 복사할 text 블럭
                document.execCommand('copy');
                url.style.display = 'none';
            }
        }
    }
</script>
<style>
    #copyArea {
        display: none;
    }
</style>